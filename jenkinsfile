pipeline {
    agent any

  tools {nodejs "nodejs"}

    stages {
        stage('ğŸ‘ Checkout') {
            steps {
                // Paso para clonar el repositorio
                checkout scm
            }
        }
        stage('â¬‡ï¸ Install dependencies') {
            steps {
                // Instalar las dependencias de tu proyecto, por ejemplo, usando npm
                sh 'npm i'
            }
        }
        stage('ğŸ”¨ Build') {
            steps {
                // Construir la aplicaciÃ³n con Vite
                sh 'npm run build'
            }
        }
        stage('ğŸ–¨ï¸ Copy to specified directory') {
            steps {

                // Borrar archivos existentes en el directorio destino
                sh 'rm -rf /var/www/html/reactvite/*'

                // Copiar el resultado del build a una ruta especÃ­fica
                sh 'mkdir -p /var/www/html/reactvite'
                sh 'cp -r dist/* /var/www/html/reactvite'
            }
        }
    }
}
